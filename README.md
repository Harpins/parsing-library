# Парсим онлайн-библиотеку

Скрипт для скачивания книг и их обложек с сайта https://tululu.org. Cкачивает книги, ID которых входит в задаваемый пользователем интервал. 

### Как установить

Загрузите скрипт и список зависимостей.

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, если есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Как запустить
Запуск проводят из консоли.

Доступны следующие позиционные аргументы:

`--start_id` - Начало интервала ID для скачивания (int). Необязательный параметр. По дефолту равен 1. 

`--end_id` Конец интервала ID для скачивания (int). Необязательный параметр. При отсутствии или в случае `end_id` < `start_id` будет скачана только одна книга с ID = `start_id`

Пример команды:
```sh
python lib_parsing.py 20 30
```

После запуска проверяет наличие папок `books/` и `covers/` в одной директории со скриптом и создает их в случае отсутствия.

Книги с ID из указанного интервала будут загружены в папку `books/` в формате `.txt`.
После успешной загрузки книги в консоль будет выведено название книги и ее автор в следующем формате:
```
Название: Административные рынки СССР и России
Автор: Кордонский Симон
----------------
```
При отсутствии на сайте книги с запрашиваемым ID в консоль будет выведено сообщение:
```
Book not found
----------------
```
Обложки книг будут загружены в папку `covers/`.
При отсутствии обложки на сайте будет скачана дефолтная картинка. 

Все данные о скачанных книгах можно вернуть из функции `download_books()` в виде словаря следующей структуры:

   - "id" - ID книги (int)
       - "name" - название книги (str)
       - "author" - автор книги (str)
       - "cover_url" - ссылка для скачивания обложки (str)
       - "comments" - список комментариев (list)
       - "genres" - список жанров (list)
       - "local_book_path" - путь к локально сохраненной книге (str)
       - "local_cover_path" - путь к локально сохраненной обложке (str)

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
